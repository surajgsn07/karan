<% include ./partials/header.ejs %>
<div class="w-full  min-h-screen bg-zinc-800 ">
    <div class="flex  items-center w-full text-white">
        <form id="uploadform" hidden action="/fileupload" method="post" enctype="multipart/form-data">
            <input type="file" name="image">
        </form>
        <div id="profile" class="w-72 min-h-8  mx-[auto] mt-10 flex flex-col items-center justify-center">
            <div class="relative h-24 w-24 rounded-full image object-center overflow-hidden">
                <span id="uploadicon" class=" h-[40px] w-[40px] absolute right-0 bottom-0 bg-zinc-800 rounded-full p-2">
                    <i class="ri-pencil-line "></i>
                </span>
                <img src="/images/uploads/<%= user.profilepicture %>"  alt="">
            </div>
            <h1 class="text-2xl font-semibold m-2">Suraj Gusain </h1>
            <h2 class="text-xs mb-1">@surajgsn07</h2>
            <a href="" class="bg-zinc-300 px-6 py-1 text-black rounded-full text-xs font-semibold m-2"> Edit </a>
            <a href="/create" class="bg-red-600 px-6 py-1 text-white rounded-full text-medium font-semibold m-2"> Create New Pin </a>
        </div> 
    </div> 
    <div class="mt-5 flex flex-wrap gap-[23px] px-10 w-full ">
    <% user.posts.forEach(element => {
        %>
            <div class=" text-white">
                <div class="bg-white rounded-xl w-40 h-32 object-fill overflow-hidden">
                    <img src="/images/uploads/<%= element.image %>" alt="">
                </div>
                <h1 class="font-semibold text-lg"><%= element.title%></h1>
                <h2 class="text-xs opacity-60"><%= user.length%></h2>
            </div>
        
    <%}); %>
</div>
</div>

<script>
    document.querySelector("#uploadicon").addEventListener('click' , function(){
        document.querySelector("#uploadform input").click();
    })

    document.querySelector("#uploadform input").addEventListener('change' , function(){
        document.querySelector("#uploadform").submit();
    })
</script>
<% include ./partials/footer.ejs %>